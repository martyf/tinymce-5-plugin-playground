!function(){var e=function(){"use strict";tinymce.PluginManager.add("iframe",function(e,n){e.ui.registry.addIcon("frame",'<svg width="24" height="24"><use xlink:href="custom-icons.svg#file-text"></use></svg>');var t=!1,a={title:"URL Dialog Demo",url:"iframe.html",buttons:[{type:"custom",name:"action1",text:"Action Button 1",primary:!0,align:"end"},{type:"custom",name:"action2",text:"Action Button 2",primary:!1,align:"end"},{type:"cancel",name:"cancel",text:"Close Dialog",primary:!1,align:"end"}],onAction:function(n,t){n.block("Running action..."),setTimeout(()=>{e.insertContent('<p>You clicked Dialog Button "'+t.name+'".</p>'),n.close()},1e3)},onMessage:function(n,t){switch(t.mceAction){case"sayName":""==t.data.name?e.windowManager.alert("You need to enter your name."):(e.windowManager.alert("Hi there "+t.data.name+" - nice to meet you!"),n.close())}}};return e.addCommand("iframeCommand",function(n,t){""==t?e.windowManager.alert('You need type some text in the "iframe input".'):(e.windowManager.alert('Hi, this is the iframeCommand from the iframe plugin. You sent me: "'+t+'"'),e.insertContent('<p>Your "iframe input" was "'+t+'"</p>'))}),e.addCommand("getTinymceContent",function(n,a){!1!==t&&t.sendMessage({param1:"My Param",content:e.getContent()},"*")}),e.ui.registry.addButton("iframe",{text:"Open Advanced URL Dialog",icon:"frame",onAction:()=>{t=e.windowManager.openUrl(a)}}),{getMetadata:function(){return{name:"URL Dialog iframe example",url:"https://www.martyfriedel.com/blog/tinymce-5-url-dialog-component-and-window-messaging"}}}})}()}();